---
original_url: https://xquartz.macosforge.org/trac/ticket/685
created_at: 2012-11-14 21:27:28 -0800
updated_at: 2015-08-24 01:43:15 -0700
closed_at: 2013-02-12 09:53:27 -0800
status: closed
type: crash
resolution: Invalid
reporter: idleft@…
owner: jeremyhu@…
priority: Not Set
component: xserver
version: 2.7.4 (xserver-1.13.0)
keywords: crash, infinite loop
---

XQuartz 2.7.4 2012-11-15 infinite crash loop on OSX 10.8.2
==========================================================


Problem description: Every time I open XQuartz, it failed to start and get stuck into a infinite crash loop. It can only be solved by force reboot, and,
after reboot, the problem still exist. I run it from the program menu (different from [\#⁠599](https://xquartz.macosforge.org/trac/ticket/599)).

Background info: I installed XQuartz 2.7.2 from App store, and this problem happens. I removed this version and install the version 2.7.4 downloaded from the website, but this problem still happens.

I have checked out [\#⁠599](https://xquartz.macosforge.org/trac/ticket/599) & [\#⁠637](https://xquartz.macosforge.org/trac/ticket/637).

Here is the directory list of /tmp, it's very awkward that I did not have the '.X11-unix' directory:

    drwxrwxrwt 29 root       986 Nov 15 13:18 .
    drwxr-xr-x  6 root       204 Jul 26 17:20 ..
    -r--r--r--  1 xikui       11 Nov 15 11:41 .X0-lock
    -r--r--r--  1 xikui       11 Nov 15 11:41 .X1-lock
    -r--r--r--  1 xikui       11 Nov 15 12:48 .X10-lock
    -r--r--r--  1 xikui       11 Nov 15 12:52 .X11-lock
    -r--r--r--  1 xikui       11 Nov 15 12:56 .X12-lock
    -r--r--r--  1 xikui       11 Nov 15 13:00 .X13-lock
    -r--r--r--  1 xikui       11 Nov 15 13:04 .X14-lock
    -r--r--r--  1 xikui       11 Nov 15 13:08 .X15-lock
    -r--r--r--  1 xikui       11 Nov 15 13:12 .X16-lock
    -r--r--r--  1 xikui       11 Nov 15 13:16 .X17-lock
    -r--r--r--  1 xikui       11 Nov 15 13:17 .X18-lock
    -r--r--r--  1 xikui       11 Nov 15 13:17 .X19-lock
    -r--r--r--  1 xikui       11 Nov 15 11:45 .X2-lock
    -r--r--r--  1 xikui       11 Nov 15 13:18 .X20-lock
    -r--r--r--  1 xikui       11 Nov 15 11:49 .X3-lock
    -r--r--r--  1 xikui       11 Nov 15 11:53 .X4-lock
    -r--r--r--  1 xikui       11 Nov 15 11:57 .X5-lock
    -r--r--r--  1 xikui       11 Nov 15 12:01 .X6-lock
    -r--r--r--  1 xikui       11 Nov 15 12:38 .X7-lock
    -r--r--r--  1 xikui       11 Nov 15 12:42 .X8-lock
    -r--r--r--  1 xikui       11 Nov 15 12:46 .X9-lock
    drwx------  3 xikui      102 Nov 15 10:21 launch-2RO2yx
    drwx------  3 xikui      102 Nov 15 10:21 launch-6r4Opz
    drwx------  4 xikui      136 Nov 15 10:22 launch-bgrZIz
    drwx------  3 xikui      102 Nov 15 10:21 launch-egFjIm
    drwx------  3 xikui      102 Nov 15 10:17 launchd-145.55w0Lo
    drwx------  3 _spotlight 102 Nov 15 11:01 launchd-586.MYwd0T

Here is the xorg.macosforge.xquartz.log

      1 X11.app: main(): argc=2
      2     argv[0] = /Applications/Utilities/XQuartz.app/Contents/MacOS/X11.bin
      3     argv[1] = --listenonly
      4 Waiting for startup parameters via Mach IPC.
      5 X11.app: Listening on socket for fd handoff:  (6) /var/tmp/tmp.0.O5L3Ox
      6 X11.app: Thread created for handoff.  Returning success to tell caller to connect and push the fd.
      7 X11.app Handing off fd to server thread via DarwinListenOnOpenFD(8)
      8 X11.app: do_start_x11_server(): argc=6
      9 DarwinListenOnOpenFD: 8
     10     argv[0] = /opt/X11/bin/Xquartz
     11     argv[1] = :21
     12     argv[2] = -nolisten
     13     argv[3] = tcp
     14     argv[4] = -auth
     15     argv[5] = /Users/xikui/.serverauth.8560
     16 [ 42227.080] Xquartz starting:
     17 [ 42227.080] X.Org X Server 1.13.0
     18 [ 42227.080] Build Date: 20120927
     19 [ 42227.080] _XSERVTransmkdir: ERROR: euid != 0,directory /tmp/.X11-unix will not be created.
     20 [ 42227.080] _XSERVTransSocketUNIXCreateListener: mkdir(/tmp/.X11-unix) failed, errno = 2
     21 [ 42227.080] _XSERVTransMakeAllCOTSServerListeners: failed to create listener for local
     22 [ 42227.080]
     23 Fatal server error:
     24 [ 42227.081] Cannot establish any listening sockets - Make sure an X server isn't already running

Here is the crash reports:

    Process:         X11.bin [8686]
    Path:            /Applications/Utilities/XQuartz.app/Contents/MacOS/X11.bin
    Identifier:      org.macosforge.xquartz.X11
    Version:         2.7.4 (2.7.43)
    Code Type:       X86-64 (Native)
    Parent Process:  Xquartz [8679]
    User ID:         501

    Date/Time:       2012-11-15 13:25:29.865 +0800
    OS Version:      Mac OS X 10.8.2 (12C60)
    Report Version:  10

    Interval Since Last Report:          106792 sec
    Crashes Since Last Report:           20
    Per-App Interval Since Last Report:  6120 sec
    Per-App Crashes Since Last Report:   3
    Anonymous UUID:                      FAE634BB-E2DD-33F3-71E1-D54B48474241

    Crashed Thread:  2

    Exception Type:  EXC_CRASH (SIGABRT)
    Exception Codes: 0x0000000000000000, 0x0000000000000000

    Application Specific Information:
    X.Org X Server 1.13.0 Build Date: 20120927
    Cannot establish any listening sockets - Make sure an X server isn't already running
    abort() called

    Thread 0:: Dispatch queue: com.apple.main-thread
    0   libobjc.A.dylib                 0x00007fff8d19df5e objc_release + 14
    1   libobjc.A.dylib                 0x00007fff8d19d230 (anonymous namespace)::AutoreleasePoolPage::pop(void*) + 464
    2   com.apple.CoreFoundation        0x00007fff8ca2b342 _CFAutoreleasePoolPop + 34
    3   com.apple.CoreFoundation        0x00007fff8ca30106 __CFRunLoopRun + 1622
    4   com.apple.CoreFoundation        0x00007fff8ca2f6b2 CFRunLoopRunSpecific + 290
    5   com.apple.HIToolbox             0x00007fff965120a4 RunCurrentEventLoopInMode + 209
    6   com.apple.HIToolbox             0x00007fff96511e42 ReceiveNextEventCommon + 356
    7   com.apple.HIToolbox             0x00007fff96511cd3 BlockUntilNextEventMatchingListInMode + 62
    8   com.apple.AppKit                0x00007fff97b87613 _DPSNextEvent + 685
    9   com.apple.AppKit                0x00007fff97b86ed2 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] + 128
    10  com.apple.AppKit                0x00007fff97dd1709 -[NSApplication _realDoModalLoop:peek:] + 485
    11  com.apple.AppKit                0x00007fff97dd19ce -[NSApplication runModalForWindow:] + 120
    12  com.apple.AppKit                0x00007fff97dc4434 -[NSAlert runModal] + 159
    13  com.apple.AppKit                0x00007fff97adb034 __54-[NSPersistentUIManager promptToIgnorePersistentState]_block_invoke_0 + 1082
    14  com.apple.AppKit                0x00007fff97adabaf -[NSApplication _suppressFinishLaunchingFromEventHandlersWhilePerformingBlock:] + 28
    15  com.apple.AppKit                0x00007fff97adab4e -[NSPersistentUIManager promptToIgnorePersistentState] + 196
    16  com.apple.AppKit                0x00007fff97b8b6e6 -[NSApplication _reopenWindowsAsNecessaryIncludingRestorableState:registeringAsReady:completionHandler:] + 194
    17  com.apple.AppKit                0x00007fff97b8b525 -[NSApplication(NSAppleEventHandling) _handleAEOpenEvent:] + 553
    18  com.apple.AppKit                0x00007fff97b8b12c -[NSApplication(NSAppleEventHandling) _handleCoreEvent:withReplyEvent:] + 351
    19  com.apple.Foundation            0x00007fff924f212b -[NSAppleEventManager dispatchRawAppleEvent:withRawReply:handlerRefCon:] + 308
    20  com.apple.Foundation            0x00007fff924f1f8d _NSAppleEventManagerGenericHandler + 106
    21  com.apple.AE                    0x00007fff93febb48 aeDispatchAppleEvent(AEDesc const*, AEDesc*, unsigned int, unsigned char*) + 307
    22  com.apple.AE                    0x00007fff93feb9a9 dispatchEventAndSendReply(AEDesc const*, AEDesc*) + 37
    23  com.apple.AE                    0x00007fff93feb869 aeProcessAppleEvent + 318
    24  com.apple.HIToolbox             0x00007fff9651c8e9 AEProcessAppleEvent + 100
    25  com.apple.AppKit                0x00007fff97b87916 _DPSNextEvent + 1456
    26  com.apple.AppKit                0x00007fff97b86ed2 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] + 128
    27  com.apple.AppKit                0x00007fff97b7e283 -[NSApplication run] + 517
    28  X11.bin                         0x0000000100008ee5 X11ApplicationMain + 1402
    29  X11.bin                         0x0000000100011f1a server_main + 208
    30  X11.bin                         0x0000000100002423 do_start_x11_server + 261
    31  X11.bin                         0x00000001000031b8 _Xstart_x11_server + 156
    32  X11.bin                         0x000000010000332d mach_startup_server + 81
    33  libsystem_kernel.dylib          0x00007fff8f67e491 mach_msg_server + 429
    34  X11.bin                         0x0000000100002aa2 main + 1616
    35  X11.bin                         0x0000000100001ef4 start + 52

    Thread 1:: Dispatch queue: com.apple.libdispatch-manager
    0   libsystem_kernel.dylib          0x00007fff8f680d16 kevent + 10
    1   libdispatch.dylib               0x00007fff91a79dea _dispatch_mgr_invoke + 883
    2   libdispatch.dylib               0x00007fff91a799ee _dispatch_mgr_thread + 54

    Thread 2 Crashed:
    0   libsystem_kernel.dylib          0x00007fff8f680212 __pthread_kill + 10
    1   libsystem_c.dylib               0x00007fff8cd24af4 pthread_kill + 90
    2   libsystem_c.dylib               0x00007fff8cd68dce abort + 143
    3   X11.bin                         0x0000000100116e7a OsAbort + 9
    4   X11.bin                         0x000000010000e537 AbortDDX + 23
    5   X11.bin                         0x000000010011c380 AbortServer + 34
    6   X11.bin                         0x000000010011b313 FatalError + 318
    7   X11.bin                         0x000000010011266c CreateWellKnownSockets + 1489
    8   X11.bin                         0x0000000100027529 dix_main + 275
    9   X11.bin                         0x0000000100011e43 server_thread + 38
    10  libsystem_c.dylib               0x00007fff8cd23742 _pthread_start + 327
    11  libsystem_c.dylib               0x00007fff8cd10181 thread_start + 13

    Thread 3:
    0   libsystem_kernel.dylib          0x00007fff8f6800fa __psynch_cvwait + 10
    1   libsystem_c.dylib               0x00007fff8cd27f89 _pthread_cond_wait + 869
    2   X11.bin                         0x00000001000241b1 xpbproxy_run + 133
    3   X11.bin                         0x0000000100008f34 xpbproxy_x_thread + 9
    4   libsystem_c.dylib               0x00007fff8cd23742 _pthread_start + 327
    5   libsystem_c.dylib               0x00007fff8cd10181 thread_start + 13

    Thread 4:
    0   libsystem_kernel.dylib          0x00007fff8f6806d6 __workq_kernreturn + 10
    1   libsystem_c.dylib               0x00007fff8cd25eec _pthread_workq_return + 25
    2   libsystem_c.dylib               0x00007fff8cd25cb3 _pthread_wqthread + 412
    3   libsystem_c.dylib               0x00007fff8cd10171 start_wqthread + 13

    Thread 5:
    0   libsystem_kernel.dylib          0x00007fff8f6806d6 __workq_kernreturn + 10
    1   libsystem_c.dylib               0x00007fff8cd25eec _pthread_workq_return + 25
    2   libsystem_c.dylib               0x00007fff8cd25cb3 _pthread_wqthread + 412
    3   libsystem_c.dylib               0x00007fff8cd10171 start_wqthread + 13

    Thread 6:
    0   libsystem_kernel.dylib          0x00007fff8f6806d6 __workq_kernreturn + 10
    1   libsystem_c.dylib               0x00007fff8cd25eec _pthread_workq_return + 25
    2   libsystem_c.dylib               0x00007fff8cd25cb3 _pthread_wqthread + 412
    3   libsystem_c.dylib               0x00007fff8cd10171 start_wqthread + 13

    Thread 7:: com.apple.appkit-heartbeat
    0   libsystem_kernel.dylib          0x00007fff8f680386 __semwait_signal + 10
    1   libsystem_c.dylib               0x00007fff8cdad800 nanosleep + 163
    2   libsystem_c.dylib               0x00007fff8cdad717 usleep + 54
    3   com.apple.AppKit                0x00007fff97d6c958 -[NSUIHeartBeat _heartBeatThread:] + 543
    4   com.apple.Foundation            0x00007fff92525612 __NSThread__main__ + 1345
    5   libsystem_c.dylib               0x00007fff8cd23742 _pthread_start + 327
    6   libsystem_c.dylib               0x00007fff8cd10181 thread_start + 13

    Thread 8:: Dispatch queue: org.macosforge.xquartz.X11.NSEventsToX11EventsQueue
    0   libsystem_kernel.dylib          0x00007fff8f6800fa __psynch_cvwait + 10
    1   libsystem_c.dylib               0x00007fff8cd27f89 _pthread_cond_wait + 869
    2   X11.bin                         0x0000000100008f6c -[X11Application(Private) sendX11NSEvent:] + 38
    3   libdispatch.dylib               0x00007fff91a7af01 _dispatch_call_block_and_release + 15
    4   libdispatch.dylib               0x00007fff91a770b6 _dispatch_client_callout + 8
    5   libdispatch.dylib               0x00007fff91a7847f _dispatch_queue_drain + 235
    6   libdispatch.dylib               0x00007fff91a782f1 _dispatch_queue_invoke + 52
    7   libdispatch.dylib               0x00007fff91a781c3 _dispatch_worker_thread2 + 249
    8   libsystem_c.dylib               0x00007fff8cd25cab _pthread_wqthread + 404
    9   libsystem_c.dylib               0x00007fff8cd10171 start_wqthread + 13

    Thread 2 crashed with X86 Thread State (64-bit):
      rax: 0x0000000000000000  rbx: 0x0000000000000006  rcx: 0x0000000102bcec78  rdx: 0x0000000000000000
      rdi: 0x0000000000004f07  rsi: 0x0000000000000006  rbp: 0x0000000102bceca0  rsp: 0x0000000102bcec78
       r8: 0x00007fff7ca90278   r9: 0x0000000102bce710  r10: 0x0000000020000000  r11: 0x0000000000000206
      r12: 0x0000000000000006  r13: 0x00007fff5fbff550  r14: 0x0000000102bcf000  r15: 0x00000001001d8470
      rip: 0x00007fff8f680212  rfl: 0x0000000000000206  cr2: 0x00007fff7ca89fe8
    Logical CPU: 0

    Binary Images:
           0x100000000 -        0x1001baff7 +X11.bin (???) <7E565955-3FA8-354A-B599-9E2D2C6C9969> /Applications/Utilities/XQuartz.app/Contents/MacOS/X11.bin
           0x100232000 -        0x10024bff7 +org.andymatuschak.Sparkle (1.5 Beta [git] - 1.5) <9AC083D4-394C-33DC-B607-52AD5EF5B090> /Applications/Utilities/XQuartz.app/Contents/Frameworks/Sparkle.framework/Versions/A/Sparkle
           0x100262000 -        0x10026fff7 +libXplugin.1.dylib (1) <F837846F-56B2-3401-B8A6-D139564F24A4> /opt/X11/*/libXplugin.1.dylib
           0x10027a000 -        0x10027bfff +libAppleWM.7.dylib (8) <9F2C1DA6-367D-3D40-ADB2-F7CC7D87C1A0> /opt/X11/*/libAppleWM.7.dylib
           0x100280000 -        0x100282fff +libXfixes.3.dylib (5) <82D6A388-C413-363C-BC7E-AB19361D3707> /opt/X11/*/libXfixes.3.dylib
           0x100288000 -        0x10038dfff +libX11.6.dylib (10) <9CBEE087-41E1-394D-A345-80A246235A1F> /opt/X11/*/libX11.6.dylib
           0x1003b5000 -        0x100415fff +libpixman-1.0.dylib (27.2) <52BE9AAE-B11A-344C-ACC0-9B904EE31A23> /opt/X11/*/libpixman-1.0.dylib
           0x100429000 -        0x100456ff7 +libXfont.1.dylib (6.1) <1FBB9D8E-693B-3461-83EB-82666EFE84DC> /opt/X11/*/libXfont.1.dylib
           0x100466000 -        0x100467fff +libXau.6.dylib (7) <4E3827C7-B2D6-3327-9E76-63F0686D2AE8> /opt/X11/*/libXau.6.dylib
           0x10046c000 -        0x10046ffff +libXdmcp.6.dylib (7) <67B81572-E521-34CC-937B-8F94A1B45434> /opt/X11/*/libXdmcp.6.dylib
           0x100475000 -        0x100480fff +libXext.6.dylib (11) <8CB5AF39-E115-349B-8877-DE2D7E5644B7> /opt/X11/*/libXext.6.dylib
           0x100488000 -        0x10049cff7 +libxcb.1.dylib (3) <C411EA1F-2508-3290-84CB-DEF1B5E44D97> /opt/X11/*/libxcb.1.dylib
           0x1004ad000 -        0x100522fff +libfreetype.6.dylib (15.1) <1129D37E-0A2D-3D60-8A68-B31E57733456> /opt/X11/*/libfreetype.6.dylib
           0x10053a000 -        0x10053dff7 +libfontenc.1.dylib (2) <1698E9C2-59A7-3FC4-A7EB-E2F549B5A704> /opt/X11/*/libfontenc.1.dylib
        0x7fff68432000 -     0x7fff6846693f  dyld (210.2.3) <A40597AA-5529-3337-8C09-D8A014EB1578> /usr/lib/dyld
        0x7fff8c9fb000 -     0x7fff8cbe4fff  com.apple.CoreFoundation (6.8 - 744.12) <EF002794-DAEF-31C6-866C-E3E3AC387A9F> /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation
        0x7fff8cd0f000 -     0x7fff8cddbfe7  libsystem_c.dylib (825.25) <8CBCF9B9-EBB7-365E-A3FF-2F3850763C6B> /usr/lib/system/libsystem_c.dylib
        0x7fff8cddc000 -     0x7fff8cdebff7  libxar.1.dylib (105) <370ED355-E516-311E-BAFD-D80633A84BE1> /usr/lib/libxar.1.dylib
        0x7fff8cdec000 -     0x7fff8ce0bff7  libresolv.9.dylib (51) <0882DC2D-A892-31FF-AD8C-0BB518C48B23> /usr/lib/libresolv.9.dylib
        0x7fff8ce0c000 -     0x7fff8ce0cfff  com.apple.Carbon (154 - 155) <372716D2-6FA1-3611-8501-3DD1D4A6E8C8> /System/Library/Frameworks/Carbon.framework/Versions/A/Carbon
        0x7fff8cec0000 -     0x7fff8cecdfff  com.apple.AppleFSCompression (49 - 1.0) <5508344A-2A7E-3122-9562-6F363910A80E> /System/Library/PrivateFrameworks/AppleFSCompression.framework/Versions/A/AppleFSCompression
        0x7fff8cece000 -     0x7fff8cecefff  libOpenScriptingUtil.dylib (148.2) <B8061D13-C1B2-38D5-A723-9A98D64E67AC> /usr/lib/libOpenScriptingUtil.dylib
        0x7fff8d193000 -     0x7fff8d2ab92f  libobjc.A.dylib (532.2) <90D31928-F48D-3E37-874F-220A51FD9E37> /usr/lib/libobjc.A.dylib
        0x7fff8d2ac000 -     0x7fff8d4e1ff7  com.apple.CoreData (106.1 - 407.7) <24E0A6B4-9ECA-3D12-B26A-72B9DCF09768> /System/Library/Frameworks/CoreData.framework/Versions/A/CoreData
        0x7fff8d4e2000 -     0x7fff8d4e6fff  libCoreVMClient.dylib (24.4) <55F71158-ADEE-3863-92E9-4772DCEA8E31> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCoreVMClient.dylib
        0x7fff8d511000 -     0x7fff8d662fff  com.apple.audio.toolbox.AudioToolbox (1.8 - 1.8) <833DA682-A3C1-39E7-AEC3-9EDC734DE2A9> /System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox
        0x7fff8d663000 -     0x7fff8d663fff  com.apple.Accelerate.vecLib (3.8 - vecLib 3.8) <B5A18EE8-DF81-38DD-ACAF-7076B2A26225> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/vecLib
        0x7fff8d664000 -     0x7fff8d7d8fff  com.apple.CFNetwork (596.2.3 - 596.2.3) <6A16C2BD-1035-30F9-AE96-D9E3BB54A976> /System/Library/Frameworks/CFNetwork.framework/Versions/A/CFNetwork
        0x7fff8d7d9000 -     0x7fff8d7e0fff  libcopyfile.dylib (89) <876573D0-E907-3566-A108-577EAD1B6182> /usr/lib/system/libcopyfile.dylib
        0x7fff8d826000 -     0x7fff8d834ff7  libsystem_network.dylib (77.10) <0D99F24E-56FE-380F-B81B-4A4C630EE587> /usr/lib/system/libsystem_network.dylib
        0x7fff8d835000 -     0x7fff8d89dfff  libvDSP.dylib (380.6) <CD4C5EEB-9E63-30C4-8103-7A5EAEA0BE60> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvDSP.dylib
        0x7fff8d89e000 -     0x7fff8d8f3ff7  libTIFF.dylib (845) <ADCB4683-69EB-318B-8BE7-5FDF38BCADAF> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libTIFF.dylib
        0x7fff8d8f4000 -     0x7fff8d91bfff  com.apple.framework.familycontrols (4.1 - 410) <AE49B2AB-7D2B-3D52-8E21-60EBEA1A38E6> /System/Library/PrivateFrameworks/FamilyControls.framework/Versions/A/FamilyControls
        0x7fff8d94e000 -     0x7fff8d94efff  com.apple.Cocoa (6.7 - 19) <1F77945C-F37A-3171-B22E-F7AB0FCBB4D4> /System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa
        0x7fff8d94f000 -     0x7fff8dd6cfff  FaceCoreLight (2.4.1) <A34C9575-C4C1-31B1-809B-7751070B4E8B> /System/Library/PrivateFrameworks/FaceCoreLight.framework/Versions/A/FaceCoreLight
        0x7fff8dd6d000 -     0x7fff8dd6ffff  libCVMSPluginSupport.dylib (8.6.1) <7EFDA31E-E463-3897-A8DC-7FD266EB713E> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCVMSPluginSupport.dylib
        0x7fff8dd70000 -     0x7fff8ddd8ff7  libc++.1.dylib (65.1) <20E31B90-19B9-3C2A-A9EB-474E08F9FE05> /usr/lib/libc++.1.dylib
        0x7fff8dedf000 -     0x7fff8dfb9ff7  com.apple.backup.framework (1.4.1 - 1.4.1) <A3CFCA9E-717C-302D-821B-16FD35E6673F> /System/Library/PrivateFrameworks/Backup.framework/Versions/A/Backup
        0x7fff8dfba000 -     0x7fff8e155fef  com.apple.vImage (6.0 - 6.0) <FAE13169-295A-33A5-8E6B-7C2CC1407FA7> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vImage.framework/Versions/A/vImage
        0x7fff8e156000 -     0x7fff8e1c3fff  com.apple.datadetectorscore (4.0 - 269.1) <C94C372B-3821-3A46-A8C2-091AB1CFF7F4> /System/Library/PrivateFrameworks/DataDetectorsCore.framework/Versions/A/DataDetectorsCore
        0x7fff8e550000 -     0x7fff8e550fff  libkeymgr.dylib (25) <CC9E3394-BE16-397F-926B-E579B60EE429> /usr/lib/system/libkeymgr.dylib
        0x7fff8e551000 -     0x7fff8e556fff  libcache.dylib (57) <65187C6E-3FBF-3EB8-A1AA-389445E2984D> /usr/lib/system/libcache.dylib
        0x7fff8e5b4000 -     0x7fff8e5bbfff  com.apple.NetFS (5.0 - 4.0) <82E24B9A-7742-3DA3-9E99-ED267D98C05E> /System/Library/Frameworks/NetFS.framework/Versions/A/NetFS
        0x7fff8e62d000 -     0x7fff8e74dfff  com.apple.desktopservices (1.7.2 - 1.7.2) <CDE8C2C2-C505-31B0-8C61-E40E4EA364A5> /System/Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/DesktopServicesPriv
        0x7fff8e759000 -     0x7fff8f0e9c67  com.apple.CoreGraphics (1.600.0 - 324.6) <DCC70C6E-AB6D-3457-A823-7569CB29B107> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics
        0x7fff8f0f9000 -     0x7fff8f145ff7  libauto.dylib (185.1) <73CDC482-16E3-3FC7-9BB4-FBA2DA44DBC2> /usr/lib/libauto.dylib
        0x7fff8f146000 -     0x7fff8f149ff7  libdyld.dylib (210.2.3) <F59367C9-C110-382B-A695-9035A6DD387E> /usr/lib/system/libdyld.dylib
        0x7fff8f14a000 -     0x7fff8f18dff7  com.apple.bom (12.0 - 192) <0BF1F2D2-3648-36B7-BE4B-551A0173209B> /System/Library/PrivateFrameworks/Bom.framework/Versions/A/Bom
        0x7fff8f18e000 -     0x7fff8f428ff7  com.apple.JavaScriptCore (8536 - 8536.26.7) <ADAD1276-675A-3000-B746-560A2EB596A2> /System/Library/Frameworks/JavaScriptCore.framework/Versions/A/JavaScriptCore
        0x7fff8f429000 -     0x7fff8f45ffff  com.apple.DebugSymbols (98 - 98) <14E788B1-4EB2-3FD7-934B-849534DFC198> /System/Library/PrivateFrameworks/DebugSymbols.framework/Versions/A/DebugSymbols
        0x7fff8f460000 -     0x7fff8f48efff  com.apple.CoreServicesInternal (154.2 - 154.2) <3E6196E6-F3B4-316F-9E1F-13B6B9694C7E> /System/Library/PrivateFrameworks/CoreServicesInternal.framework/Versions/A/CoreServicesInternal
        0x7fff8f4cd000 -     0x7fff8f523fff  com.apple.HIServices (1.20 - 417) <A1129272-FEC8-350B-BA26-5A97F23C413D> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/HIServices.framework/Versions/A/HIServices
        0x7fff8f524000 -     0x7fff8f53bfff  com.apple.CFOpenDirectory (10.8 - 151.10) <FFBBA538-00B5-334E-BA5B-C8AD6CDCDA14> /System/Library/Frameworks/OpenDirectory.framework/Versions/A/Frameworks/CFOpenDirectory.framework/Versions/A/CFOpenDirectory
        0x7fff8f66e000 -     0x7fff8f689ff7  libsystem_kernel.dylib (2050.18.24) <C0535565-35D1-31A7-A744-63D9F10F12A4> /usr/lib/system/libsystem_kernel.dylib
        0x7fff8f68a000 -     0x7fff8f698ff7  libkxld.dylib (2050.18.24) <7027CE49-007D-3553-8FFA-3E3B428B2316> /usr/lib/system/libkxld.dylib
        0x7fff8f737000 -     0x7fff8f737fff  com.apple.vecLib (3.8 - vecLib 3.8) <794317C7-4E38-338A-A874-5E18001C8503> /System/Library/Frameworks/vecLib.framework/Versions/A/vecLib
        0x7fff8f738000 -     0x7fff8f7b6ff7  com.apple.securityfoundation (6.0 - 55115.4) <C5461971-E455-31A6-99B8-AF80C4BC26DD> /System/Library/Frameworks/SecurityFoundation.framework/Versions/A/SecurityFoundation
        0x7fff8f929000 -     0x7fff8fbacfff  com.apple.RawCamera.bundle (4.00 - 658) <6786E9E0-3197-30A3-A0F4-22A6064B3EF2> /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
        0x7fff8fc9c000 -     0x7fff8fccdff7  com.apple.DictionaryServices (1.2 - 184.4) <054F2D6F-9CFF-3EF1-9778-25C551B616C1> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/DictionaryServices.framework/Versions/A/DictionaryServices
        0x7fff8fcce000 -     0x7fff8fcf0ff7  com.apple.Kerberos (2.0 - 1) <C49B8820-34ED-39D7-A407-A3E854153556> /System/Library/Frameworks/Kerberos.framework/Versions/A/Kerberos
        0x7fff8fcf7000 -     0x7fff9000eff7  com.apple.CoreServices.CarbonCore (1037.3 - 1037.3) <DF7CABCA-F2CB-345B-8EFF-F0F4E937B7FF> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore
        0x7fff9000f000 -     0x7fff90111fff  libcrypto.0.9.8.dylib (47) <74F165AD-4572-3B26-B0E2-A97477FE59D0> /usr/lib/libcrypto.0.9.8.dylib
        0x7fff9022c000 -     0x7fff90299ff7  com.apple.framework.IOKit (2.0 - 755.18.10) <142E19DD-1C8D-3D61-ABC8-83994A73279F> /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
        0x7fff9029a000 -     0x7fff9029bff7  libsystem_sandbox.dylib (220) <3C3B03CF-C525-3CB3-8557-62E91B93AC95> /usr/lib/system/libsystem_sandbox.dylib
        0x7fff9029c000 -     0x7fff902f8ff7  com.apple.Symbolication (1.3 - 93) <F2C7E0B6-B241-3020-B30A-0636D0FA3378> /System/Library/PrivateFrameworks/Symbolication.framework/Versions/A/Symbolication
        0x7fff90347000 -     0x7fff9035bfff  com.apple.speech.synthesis.framework (4.1.12 - 4.1.12) <94EDF2AB-809C-3D15-BED5-7AD45B2A7C16> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis
        0x7fff903a8000 -     0x7fff904b3fff  libFontParser.dylib (84.5) <617A7D30-C7BC-39FC-A1FE-59367B4A5719> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libFontParser.dylib
        0x7fff904e1000 -     0x7fff905b3ff7  com.apple.CoreText (260.0 - 275.16) <5BFC1D67-6A6F-38BC-9D90-9C712684EDAC> /System/Library/Frameworks/CoreText.framework/Versions/A/CoreText
        0x7fff905b4000 -     0x7fff905bafff  com.apple.DiskArbitration (2.5.1 - 2.5.1) <F7DAF7CC-5893-3F06-9168-3B0192B66D15> /System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration
        0x7fff90666000 -     0x7fff9068efff  libJPEG.dylib (845) <A32618D7-FB91-3EE2-A105-5407B2F3F8D8> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib
        0x7fff9068f000 -     0x7fff91648fff  com.apple.WebCore (8536 - 8536.26.14) <60029E1A-C1DB-3A1F-8528-4970058D8B3D> /System/Library/Frameworks/WebKit.framework/Versions/A/Frameworks/WebCore.framework/Versions/A/WebCore
        0x7fff91649000 -     0x7fff9164bfff  com.apple.TrustEvaluationAgent (2.0 - 23) <A97D348B-32BF-3E52-8DF2-59BFAD21E1A3> /System/Library/PrivateFrameworks/TrustEvaluationAgent.framework/Versions/A/TrustEvaluationAgent
        0x7fff9165a000 -     0x7fff9165ffff  com.apple.OpenDirectory (10.8 - 151.10) <CF44120B-9B01-32DD-852E-C9C0E1243FC0> /System/Library/Frameworks/OpenDirectory.framework/Versions/A/OpenDirectory
        0x7fff9169c000 -     0x7fff916a7ff7  com.apple.bsd.ServiceManagement (2.0 - 2.0) <C12962D5-85FB-349E-AA56-64F4F487F219> /System/Library/Frameworks/ServiceManagement.framework/Versions/A/ServiceManagement
        0x7fff9199b000 -     0x7fff91a4cfff  com.apple.LaunchServices (539.7 - 539.7) <DA7C602E-5E01-31B8-925D-B45360CA089F> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/LaunchServices
        0x7fff91a4d000 -     0x7fff91a74ff7  com.apple.PerformanceAnalysis (1.16 - 16) <E4888388-F41B-313E-9CBB-5807D077BDA9> /System/Library/PrivateFrameworks/PerformanceAnalysis.framework/Versions/A/PerformanceAnalysis
        0x7fff91a75000 -     0x7fff91a8aff7  libdispatch.dylib (228.23) <D26996BF-FC57-39EB-8829-F63585561E09> /usr/lib/system/libdispatch.dylib
        0x7fff91a8b000 -     0x7fff91ac5fff  com.apple.GSS (3.0 - 2.0) <0BDF8090-5EF4-3759-94DE-8521D74188AA> /System/Library/Frameworks/GSS.framework/Versions/A/GSS
        0x7fff91c31000 -     0x7fff91c34fff  com.apple.help (1.3.2 - 42) <343904FE-3022-3573-97D6-5FE17F8643BA> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Help.framework/Versions/A/Help
        0x7fff91c38000 -     0x7fff91c38fff  com.apple.ApplicationServices (45 - 45) <A3ABF20B-ED3A-32B5-830E-B37831A45A80> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/ApplicationServices
        0x7fff91ded000 -     0x7fff91e87fff  com.apple.CoreSymbolication (3.0 - 87) <75F2C0DD-549A-36F6-BD9E-FB40A924344F> /System/Library/PrivateFrameworks/CoreSymbolication.framework/Versions/A/CoreSymbolication
        0x7fff91f87000 -     0x7fff9210dfff  libBLAS.dylib (1073.4) <C102C0F6-8CB6-3B49-BA6B-2EB61F0B2784> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib
        0x7fff9210e000 -     0x7fff92210fff  libJP2.dylib (845) <405CAF25-0AA5-3C6B-A4A6-94471A1EDD2F> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libJP2.dylib
        0x7fff92211000 -     0x7fff92226fff  com.apple.ImageCapture (8.0 - 8.0) <17A45CE6-7DA3-36A5-B7EF-72BC136981AE> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ImageCapture.framework/Versions/A/ImageCapture
        0x7fff92227000 -     0x7fff9223dfff  com.apple.MultitouchSupport.framework (235.28 - 235.28) <BD78B16E-9B5A-3E07-93B4-13AD1A538CAC> /System/Library/PrivateFrameworks/MultitouchSupport.framework/Versions/A/MultitouchSupport
        0x7fff9223e000 -     0x7fff9224bfff  libbz2.1.0.dylib (29) <CE9785E8-B535-3504-B392-82F0064D9AF2> /usr/lib/libbz2.1.0.dylib
        0x7fff9224c000 -     0x7fff923fafff  com.apple.QuartzCore (1.8 - 304.0) <BDC66714-F60C-386D-A773-F897D1E87AB6> /System/Library/Frameworks/QuartzCore.framework/Versions/A/QuartzCore
        0x7fff923fb000 -     0x7fff9243ffff  libcups.2.dylib (327) <9B3F3321-D2BC-3195-BF20-4008FC52A390> /usr/lib/libcups.2.dylib
        0x7fff92440000 -     0x7fff9248fff7  libcorecrypto.dylib (106.2) <CE0C29A3-C420-339B-ADAA-52F4683233CC> /usr/lib/system/libcorecrypto.dylib
        0x7fff92490000 -     0x7fff927ecfff  com.apple.Foundation (6.8 - 945.11) <A5D41956-A354-3ACC-9355-BE200072223B> /System/Library/Frameworks/Foundation.framework/Versions/C/Foundation
        0x7fff927ed000 -     0x7fff92823fff  libsystem_info.dylib (406.17) <4FFCA242-7F04-365F-87A6-D4EFB89503C1> /usr/lib/system/libsystem_info.dylib
        0x7fff92834000 -     0x7fff92847ff7  libbsm.0.dylib (32) <F497D3CE-40D9-3551-84B4-3D5E39600737> /usr/lib/libbsm.0.dylib
        0x7fff92848000 -     0x7fff92853fff  libsystem_notify.dylib (98.5) <C49275CC-835A-3207-AFBA-8C01374927B6> /usr/lib/system/libsystem_notify.dylib
        0x7fff9295a000 -     0x7fff9296cff7  libz.1.dylib (43) <2A1551E8-A272-3DE5-B692-955974FE1416> /usr/lib/libz.1.dylib
        0x7fff9296d000 -     0x7fff9296eff7  libSystem.B.dylib (169.3) <365477AB-D641-389D-B8F4-A1FAE9657EEE> /usr/lib/libSystem.B.dylib
        0x7fff93164000 -     0x7fff93169fff  libcompiler_rt.dylib (30) <08F8731D-5961-39F1-AD00-4590321D24A9> /usr/lib/system/libcompiler_rt.dylib
        0x7fff9316a000 -     0x7fff93172fff  liblaunch.dylib (442.26.2) <2F71CAF8-6524-329E-AC56-C506658B4C0C> /usr/lib/system/liblaunch.dylib
        0x7fff932ad000 -     0x7fff932b1ff7  com.apple.CommonPanels (1.2.5 - 94) <AAC003DE-2D6E-38B7-B66B-1F3DA91E7245> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CommonPanels.framework/Versions/A/CommonPanels
        0x7fff932ed000 -     0x7fff93347fff  com.apple.print.framework.PrintCore (8.1 - 387.1) <1FA17B75-33E6-35BD-9198-35F92E37B248> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore
        0x7fff93348000 -     0x7fff93445fff  libsqlite3.dylib (138.1) <ADE9CB98-D77D-300C-A32A-556B7440769F> /usr/lib/libsqlite3.dylib
        0x7fff93886000 -     0x7fff93913ff7  com.apple.SearchKit (1.4.0 - 1.4.0) <C7F43889-F8BF-3CB9-AD66-11AEFCBCEDE7> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit
        0x7fff93b70000 -     0x7fff93b92ff7  libxpc.dylib (140.41) <FAC04D8B-680E-325F-8F0C-DD69859D0E01> /usr/lib/system/libxpc.dylib
        0x7fff93b95000 -     0x7fff93bd8fff  com.apple.RemoteViewServices (2.0 - 80.5) <F3A897C9-A277-3B56-8FB3-2BC2C10C33BF> /System/Library/PrivateFrameworks/RemoteViewServices.framework/Versions/A/RemoteViewServices
        0x7fff93c6b000 -     0x7fff93c77fff  libCSync.A.dylib (324.6) <2033247A-CABC-3E20-8498-7367A8F44A08> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib
        0x7fff93c78000 -     0x7fff93c7efff  libGFXShared.dylib (8.6.1) <CF55E720-1B9E-3E24-A1DA-7FA8B261CD8E> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGFXShared.dylib
        0x7fff93c7f000 -     0x7fff93c80ff7  libremovefile.dylib (23.1) <DBBFAF35-AC78-3856-92F6-6E4FD9DF14A2> /usr/lib/system/libremovefile.dylib
        0x7fff93f1d000 -     0x7fff93fe2ff7  com.apple.coreui (2.0 - 181.1) <83D2C92D-6842-3C9D-9289-39D5B4554C3A> /System/Library/PrivateFrameworks/CoreUI.framework/Versions/A/CoreUI
        0x7fff93fe3000 -     0x7fff94040ff7  com.apple.AE (645.3 - 645.3) <FF867ACA-8628-3E5A-8FA0-AF429B42C5D7> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/AE.framework/Versions/A/AE
        0x7fff94041000 -     0x7fff94438fff  libLAPACK.dylib (1073.4) <D632EC8B-2BA0-3853-800A-20DA00A1091C> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib
        0x7fff94439000 -     0x7fff94478ff7  com.apple.QD (3.42 - 285) <8DF36FCA-C06B-30F4-A631-7BE2FF7E56D1> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/QD.framework/Versions/A/QD
        0x7fff94479000 -     0x7fff9448dfff  libGL.dylib (8.6.1) <2E00615F-97F5-34EB-BE07-75A24F3C18D7> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
        0x7fff9448e000 -     0x7fff9448efff  com.apple.Accelerate (1.8 - Accelerate 1.8) <6AD48543-0864-3D40-80CE-01F184F24B45> /System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate
        0x7fff9449c000 -     0x7fff9469cfff  libicucore.A.dylib (491.11.1) <CC318A27-878A-38CE-9292-1B98353FA9C7> /usr/lib/libicucore.A.dylib
        0x7fff9469d000 -     0x7fff946beff7  libCRFSuite.dylib (33) <736ABE58-8DED-3289-A042-C25AF7AE5B23> /usr/lib/libCRFSuite.dylib
        0x7fff946f4000 -     0x7fff946f5fff  libsystem_blocks.dylib (59) <D92DCBC3-541C-37BD-AADE-ACC75A0C59C8> /usr/lib/system/libsystem_blocks.dylib
        0x7fff946fe000 -     0x7fff9470bff7  com.apple.NetAuth (4.0 - 4.0) <F5BC7D7D-AF28-3C83-A674-DADA48FF7810> /System/Library/PrivateFrameworks/NetAuth.framework/Versions/A/NetAuth
        0x7fff9470c000 -     0x7fff9475bff7  libFontRegistry.dylib (100) <2E03D7DA-9B8F-31BB-8FB5-3D3B6272127F> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libFontRegistry.dylib
        0x7fff9475c000 -     0x7fff94767fff  com.apple.CommonAuth (3.0 - 2.0) <74A86DDD-57D0-3178-AB74-E1F31DBFFC39> /System/Library/PrivateFrameworks/CommonAuth.framework/Versions/A/CommonAuth
        0x7fff9476c000 -     0x7fff94770fff  libCGXType.A.dylib (324.6) <2FC25246-A69F-3F81-9AC6-0A1753E1C6A8> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXType.A.dylib
        0x7fff94e88000 -     0x7fff94fa1ff7  com.apple.ImageIO.framework (3.2.0 - 845) <553B9828-A7D9-3AE4-A214-1C33417545FD> /System/Library/Frameworks/ImageIO.framework/Versions/A/ImageIO
        0x7fff94fa2000 -     0x7fff94fa4ff7  libunc.dylib (25) <92805328-CD36-34FF-9436-571AB0485072> /usr/lib/system/libunc.dylib
        0x7fff94fa5000 -     0x7fff95027fff  com.apple.Heimdal (3.0 - 2.0) <660A6C64-4912-32C8-A332-B64164032A2D> /System/Library/PrivateFrameworks/Heimdal.framework/Versions/A/Heimdal
        0x7fff950c8000 -     0x7fff950ceff7  libunwind.dylib (35.1) <21703D36-2DAB-3D8B-8442-EAAB23C060D3> /usr/lib/system/libunwind.dylib
        0x7fff9549d000 -     0x7fff9576dfff  com.apple.security (7.0 - 55179.1) <639641EF-8156-3190-890C-1053658E044A> /System/Library/Frameworks/Security.framework/Versions/A/Security
        0x7fff957cb000 -     0x7fff957cdff7  com.apple.print.framework.Print (8.0 - 258) <34666CC2-B86D-3313-B3B6-A9977AD593DA> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.framework/Versions/A/Print
        0x7fff957ce000 -     0x7fff957cfff7  libdnsinfo.dylib (453.18) <E7595861-ECF9-336E-9901-BED2620FAA80> /usr/lib/system/libdnsinfo.dylib
        0x7fff957d0000 -     0x7fff957dfff7  com.apple.opengl (1.8.6 - 1.8.6) <720CC06C-0D01-37AE-BB3D-D7F0242B262A> /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL
        0x7fff95830000 -     0x7fff9584fff7  com.apple.ChunkingLibrary (2.0 - 133.2) <D2A746DE-002A-3C6C-961E-BE94E71DB835> /System/Library/PrivateFrameworks/ChunkingLibrary.framework/Versions/A/ChunkingLibrary
        0x7fff9616d000 -     0x7fff96171fff  libGIF.dylib (845) <2690CE83-E934-3EF8-A30A-996EDADCE3E4> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libGIF.dylib
        0x7fff96177000 -     0x7fff96183fff  com.apple.CrashReporterSupport (10.8.2 - 415) <55783BF9-125E-3F9C-A412-6A095ECD9353> /System/Library/PrivateFrameworks/CrashReporterSupport.framework/Versions/A/CrashReporterSupport
        0x7fff96184000 -     0x7fff961edfff  libstdc++.6.dylib (56) <EAA2B53E-EADE-39CF-A0EF-FB9D4940672A> /usr/lib/libstdc++.6.dylib
        0x7fff961ee000 -     0x7fff96492fff  com.apple.CoreImage (8.2.2 - 1.0.1) <930B0B23-DD84-3B0C-B5A9-C09B7068A6F0> /System/Library/Frameworks/QuartzCore.framework/Versions/A/Frameworks/CoreImage.framework/Versions/A/CoreImage
        0x7fff964b2000 -     0x7fff967e2ff7  com.apple.HIToolbox (2.0 - 625) <317F75F7-4B0F-35F5-89A7-F20BA60AC944> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox
        0x7fff968b7000 -     0x7fff968b8fff  libDiagnosticMessagesClient.dylib (8) <8548E0DC-0D2F-30B6-B045-FE8A038E76D8> /usr/lib/libDiagnosticMessagesClient.dylib
        0x7fff968b9000 -     0x7fff969b6ff7  libxml2.2.dylib (22.3) <47B09CB2-C636-3024-8B55-6040F7829B4C> /usr/lib/libxml2.2.dylib
        0x7fff96a47000 -     0x7fff96ae1fff  libvMisc.dylib (380.6) <714336EA-1C0E-3735-B31C-19DFDAAF6221> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvMisc.dylib
        0x7fff96b2a000 -     0x7fff96b2cfff  com.apple.securityhi (4.0 - 55002) <34E45C60-DC7E-3FCC-A1ED-EBF48B77C559> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SecurityHI.framework/Versions/A/SecurityHI
        0x7fff96b2d000 -     0x7fff96b36fff  com.apple.CommerceCore (1.0 - 26) <997CD214-BC78-3C61-A1B8-813EA1CB9997> /System/Library/PrivateFrameworks/CommerceKit.framework/Versions/A/Frameworks/CommerceCore.framework/Versions/A/CommerceCore
        0x7fff96b74000 -     0x7fff96bf4ff7  com.apple.ApplicationServices.ATS (332 - 341.1) <BD83B039-AB25-3E3E-9975-A67DAE66988B> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/ATS
        0x7fff96c73000 -     0x7fff96d11ff7  com.apple.ink.framework (10.8.2 - 150) <84B9825C-3822-375F-BE58-A753444FBDE2> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Ink.framework/Versions/A/Ink
        0x7fff96fcb000 -     0x7fff970c0fff  libiconv.2.dylib (34) <FEE8B996-EB44-37FA-B96E-D379664DEFE1> /usr/lib/libiconv.2.dylib
        0x7fff970c1000 -     0x7fff9711efff  com.apple.audio.CoreAudio (4.1.0 - 4.1.0) <B3198BD6-EA1D-3E5E-ADD4-37D8E6B72678> /System/Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio
        0x7fff97159000 -     0x7fff9715dff7  com.apple.TCC (1.0 - 1) <F2F3B753-FC73-3543-8BBE-859FDBB4D6A6> /System/Library/PrivateFrameworks/TCC.framework/Versions/A/TCC
        0x7fff9715e000 -     0x7fff971b4ff7  com.apple.opencl (2.1.20 - 2.1.20) <AF142CA4-EA1D-31B0-A48F-AA2B75D4309E> /System/Library/Frameworks/OpenCL.framework/Versions/A/OpenCL
        0x7fff97204000 -     0x7fff9738efff  com.apple.WebKit (8536 - 8536.26.14) <7C4D5DE6-7153-3E54-8D4F-BB2E9AE74878> /System/Library/Frameworks/WebKit.framework/Versions/A/WebKit
        0x7fff9738f000 -     0x7fff973ccfe7  libGLImage.dylib (8.6.1) <7F31DD61-3110-3541-A9BB-035CD1262E50> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.dylib
        0x7fff973cd000 -     0x7fff97473ff7  com.apple.CoreServices.OSServices (557.4 - 557.4) <841878A8-6F3E-300D-8F01-444B3CC1F41D> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/OSServices.framework/Versions/A/OSServices
        0x7fff97474000 -     0x7fff9747efff  com.apple.speech.recognition.framework (4.1.5 - 4.1.5) <D803919C-3102-3515-A178-61E9C86C46A1> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SpeechRecognition.framework/Versions/A/SpeechRecognition
        0x7fff9747f000 -     0x7fff9748dfff  libcommonCrypto.dylib (60026) <2D6537F5-1B5E-305C-A1CF-D1FA80CA3939> /usr/lib/system/libcommonCrypto.dylib
        0x7fff9748e000 -     0x7fff97491fff  libRadiance.dylib (845) <E8956A35-494E-3014-8B86-362D32576116> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libRadiance.dylib
        0x7fff97492000 -     0x7fff974a0fff  com.apple.Librarian (1.1 - 1) <1635162F-239A-341E-83C7-710C55E254AF> /System/Library/PrivateFrameworks/Librarian.framework/Versions/A/Librarian
        0x7fff974a1000 -     0x7fff974a1ffd  com.apple.audio.units.AudioUnit (1.8 - 1.8) <29E2C990-3617-3FA2-BDD7-DB7DF493E443> /System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
        0x7fff974e1000 -     0x7fff9750dff7  libRIP.A.dylib (324.6) <5A7EB5C2-BA60-36D7-BF41-9853F37837AA> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib
        0x7fff975d6000 -     0x7fff975f6fff  libPng.dylib (845) <C3CDD2B4-3CB0-3F6D-8411-DAAF267E952B> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libPng.dylib
        0x7fff97a32000 -     0x7fff9865fff7  com.apple.AppKit (6.8 - 1187.34) <1FF64844-EB62-3F96-AED7-6525B7CCEC23> /System/Library/Frameworks/AppKit.framework/Versions/C/AppKit
        0x7fff986a1000 -     0x7fff9875eff7  com.apple.ColorSync (4.8.0 - 4.8.0) <6CE333AE-EDDB-3768-9598-9DB38041DC55> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ColorSync.framework/Versions/A/ColorSync
        0x7fff98f5e000 -     0x7fff98f66ff7  libsystem_dnssd.dylib (379.32.1) <62AA0B84-188A-348B-8F9E-3E2DB08DB93C> /usr/lib/system/libsystem_dnssd.dylib
        0x7fff9900f000 -     0x7fff99015fff  libmacho.dylib (829) <BF332AD9-E89F-387E-92A4-6E1AB74BD4D9> /usr/lib/system/libmacho.dylib
        0x7fff991a1000 -     0x7fff991ccfff  libxslt.1.dylib (11.3) <441776B8-9130-3893-956F-39C85FFA644F> /usr/lib/libxslt.1.dylib
        0x7fff9921d000 -     0x7fff9923afff  com.apple.openscripting (1.3.6 - 148.2) <33B87CFB-CACC-3EBC-893D-38AECB94FB8A> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/OpenScripting.framework/Versions/A/OpenScripting
        0x7fff99304000 -     0x7fff99325fff  com.apple.Ubiquity (1.2 - 243.10) <F97D3A33-2C8B-3CFF-AF75-A74866D42853> /System/Library/PrivateFrameworks/Ubiquity.framework/Versions/A/Ubiquity
        0x7fff993e8000 -     0x7fff9943fff7  com.apple.ScalableUserInterface (1.0 - 1) <F1D43DFB-1796-361B-AD4B-39F1EED3BE19> /System/Library/Frameworks/QuartzCore.framework/Versions/A/Frameworks/ScalableUserInterface.framework/Versions/A/ScalableUserInterface
        0x7fff99440000 -     0x7fff9946eff7  libsystem_m.dylib (3022.6) <B434BE5C-25AB-3EBD-BAA7-5304B34E3441> /usr/lib/system/libsystem_m.dylib
        0x7fff99778000 -     0x7fff9977cfff  com.apple.IOSurface (86.0.3 - 86.0.3) <C121DE83-ED12-3DC1-BDB3-4FCB29AB0571> /System/Library/Frameworks/IOSurface.framework/Versions/A/IOSurface
        0x7fff997d4000 -     0x7fff997feff7  com.apple.CoreVideo (1.8 - 99.3) <C424838A-889C-39E5-8108-FD05C93D26A0> /System/Library/Frameworks/CoreVideo.framework/Versions/A/CoreVideo
        0x7fff997ff000 -     0x7fff99800fff  liblangid.dylib (116) <864C409D-D56B-383E-9B44-A435A47F2346> /usr/lib/liblangid.dylib
        0x7fff99801000 -     0x7fff99801fff  com.apple.CoreServices (57 - 57) <9DD44CB0-C644-35C3-8F57-0B41B3EC147D> /System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices
        0x7fff99802000 -     0x7fff99853ff7  com.apple.SystemConfiguration (1.12.2 - 1.12.2) <E095637C-457F-3D8F-AE32-A032F9D5A46C> /System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration
        0x7fff99854000 -     0x7fff998d5fff  com.apple.Metadata (10.7.0 - 707.3) <A45D75C1-B311-39F0-AF4A-63FCCC098C1D> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Metadata.framework/Versions/A/Metadata
        0x7fff998d6000 -     0x7fff998edfff  com.apple.GenerationalStorage (1.1 - 132.2) <3F5C87BD-D866-3732-8CB9-D23ED9784D6E> /System/Library/PrivateFrameworks/GenerationalStorage.framework/Versions/A/GenerationalStorage
        0x7fff998ee000 -     0x7fff998f2fff  libpam.2.dylib (20) <C8F45864-5B58-3237-87E1-2C258A1D73B8> /usr/lib/libpam.2.dylib
        0x7fff998f3000 -     0x7fff99906ff7  com.apple.LangAnalysis (1.7.0 - 1.7.0) <2F2694E9-A7BC-33C7-B4CF-8EC907DF0FEB> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/LangAnalysis.framework/Versions/A/LangAnalysis
        0x7fff99907000 -     0x7fff99909fff  libquarantine.dylib (52) <4BE2E642-A14F-340A-B482-5BD2AEFD9C24> /usr/lib/system/libquarantine.dylib
        0x7fff9990a000 -     0x7fff9992fff7  libc++abi.dylib (24.4) <E7BD9363-1D25-3551-A68A-2E2FF6ABECD7> /usr/lib/libc++abi.dylib
        0x7fff99930000 -     0x7fff9997aff7  libGLU.dylib (8.6.1) <DF45C1E3-3884-3991-B84F-F39B482E8BF8> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.dylib

    External Modification Summary:
      Calls made by other processes targeting this process:
        task_for_pid: 2
        thread_create: 0
        thread_set_state: 0
      Calls made by this process:
        task_for_pid: 0
        thread_create: 0
        thread_set_state: 0
      Calls made by all processes on this machine:
        task_for_pid: 900
        thread_create: 0
        thread_set_state: 0

    VM Region Summary:
    ReadOnly portion of Libraries: Total=172.2M resident=118.4M(69%) swapped_out_or_unallocated=53.8M(31%)
    Writable regions: Total=73.5M written=2756K(4%) resident=6372K(8%) swapped_out=0K(0%) unallocated=67.3M(92%)
     
    REGION TYPE                      VIRTUAL
    ===========                      =======
    CG backing stores                  2080K
    CG image                             12K
    CG shared images                   1216K
    CoreServices                       2852K
    MALLOC                             41.8M
    MALLOC guard page                    48K
    Mach message                          8K
    Memory tag=242                       12K
    Memory tag=251                       36K
    STACK GUARD                        56.0M
    Stack                              12.1M
    VM_ALLOCATE                        16.1M
    __DATA                             13.1M
    __IMAGE                             528K
    __LINKEDIT                         54.1M
    __TEXT                            118.1M
    __UNICODE                           544K
    mapped file                        42.1M
    shared memory                       308K
    ===========                      =======
    TOTAL                             360.9M




---

*idleft@…* commented *[on Nov 14, 2012](https://xquartz.macosforge.org/trac/ticket/685#comment:1 "November 14, 2012 at 9:34 PM PST")*

It is the ~~directory~~ file list of /tmp.

I have checked [\#⁠589](https://xquartz.macosforge.org/trac/ticket/589) [\#⁠637](https://xquartz.macosforge.org/trac/ticket/637) [\#⁠599](https://xquartz.macosforge.org/trac/ticket/599), the situation I met is very similar, but I did not have those directories.



---

*jeremyhu@…* commented *[on Nov 14, 2012](https://xquartz.macosforge.org/trac/ticket/685#comment:2 "November 14, 2012 at 9:35 PM PST")*

Attach /var/log/system.log

Is /Library/LaunchDaemons/org.macosforge.xquartz.privileged\_startx.plist loaded?

What happens when you do:

    sudo launchctl list org.macosforge.xquartz.privileged_startx

What about:

    /opt/X11/lib/X11/xinit/privileged_startx


---

*idleft@…* commented *[on Nov 14, 2012](https://xquartz.macosforge.org/trac/attachment/ticket/685/system.log "November 14, 2012 at 9:46 PM PST")*

-   **Attachment** *[system.log](../attachment/ticket/685/system.log)* (1.3 MB) added

system.log, after post the thread, I rebooted my computer and run XQuartz again. It fails again.



---

*idleft@…* commented *[on Nov 14, 2012](https://xquartz.macosforge.org/trac/ticket/685#comment:3 "November 14, 2012 at 9:54 PM PST")*

Replying to [jeremyhu@…](https://xquartz.macosforge.org/trac/ticket/685#comment:2):

> Attach /var/log/system.log
>
> Is /Library/LaunchDaemons/org.macosforge.xquartz.privileged\_startx.plist loaded?
>
> What happens when you do:
>
>     sudo launchctl list org.macosforge.xquartz.privileged_startx
>
> What about:
>
>     /opt/X11/lib/X11/xinit/privileged_startx

How to check if /Library/LaunchDaemons/org.macosforge.xquartz.privileged\_startx.plist loaded?

    xikui@tmp:sudo launchctl list org.macosforge.xquartz.privileged_startx
    Password:
    {
        "Label" = "org.macosforge.xquartz.privileged_startx";
        "LimitLoadToSessionType" = "System";
        "OnDemand" = true;
        "LastExitStatus" = 0;
        "PID" = 747;
        "TimeOut" = 120;
        "ProgramArguments" = (
            "/opt/X11/lib/X11/xinit/privileged_startx";
            "-d";
            "/opt/X11/lib/X11/xinit/privileged_startx.d";
        );
        "EnableTransactions" = true;
        "MachServices" = {
            "org.macosforge.xquartz.privileged_startx" = mach-port-object;
        };
    };

I run the second command, the same problem happens again, but the log changed a little. I will update the system.log after my post.

      1 X11.app: main(): argc=2
      2     argv[0] = /Applications/Utilities/XQuartz.app/Contents/MacOS/X11.bin
      3     argv[1] = --listenonly
      4 Waiting for startup parameters via Mach IPC.
      5 X11.app: Listening on socket for fd handoff:  (6) /var/tmp/tmp.0.VY1Z3c
      6 X11.app: Thread created for handoff.  Returning success to tell caller to connect and push the fd.
      7 X11.app Handing off fd to server thread via DarwinListenOnOpenFD(8)
      8 X11.app: do_start_x11_server(): argc=6
      9     argv[0] = /opt/X11/bin/Xquartz
     10 DarwinListenOnOpenFD: 8
     11     argv[1] = :6
     12     argv[2] = -nolisten
     13     argv[3] = tcp
     14     argv[4] = -auth
     15     argv[5] = /Users/xikui/.serverauth.2112
     16 [ 44049.798] Xquartz starting:
     17 [ 44049.798] X.Org X Server 1.13.0
     18 [ 44049.798] Build Date: 20120927
     19 [ 44049.799] _XSERVTransmkdir: ERROR: euid != 0,directory /tmp/.X11-unix will not be created.
     20 [ 44049.799] _XSERVTransSocketUNIXCreateListener: mkdir(/tmp/.X11-unix) failed, errno = 2
     21 [ 44049.799] _XSERVTransMakeAllCOTSServerListeners: failed to create listener for local
     22 [ 44049.799]
     23 Fatal server error:
     24 [ 44049.799] Cannot establish any listening sockets - Make sure an X server isn't already running
    ~                                                                                  


---

*idleft@…* commented *[on Nov 14, 2012](https://xquartz.macosforge.org/trac/attachment/ticket/685/system.2.log "November 14, 2012 at 9:56 PM PST")*

-   **Attachment** *[system.2.log](../attachment/ticket/685/system.2.log)* (1.3 MB) added

Updated system.log



---

*jeremyhu@…* commented *[on Nov 14, 2012](https://xquartz.macosforge.org/trac/ticket/685#comment:4 "November 14, 2012 at 10:05 PM PST")*

system.log is stating:

    Nov 14 11:13:10 Xikuis-MacBook-Pro.local org.macosforge.xquartz.privileged_startx[46146]: Could not successfully create /tmp/.ICE-unix
    Nov 14 11:13:10 Xikuis-MacBook-Pro.local org.macosforge.xquartz.privileged_startx[46146]: Could not successfully create /tmp/.X11-unix
    Nov 14 11:13:10 Xikuis-MacBook-Pro.local org.macosforge.xquartz.privileged_startx[46146]: Could not successfully create /tmp/.font-unix

So privileged\_startx is running as expected, but the tmpdirs script is failing. You should look into why that is. The script is:

The script is /opt/X11/lib/X11/xinit/privileged\_startx.d/10-tmpdirs



---

*jeremyhu@…* commented *[on Nov 14, 2012](https://xquartz.macosforge.org/trac/ticket/685#comment:5 "November 14, 2012 at 10:07 PM PST")*

The only way I can see that failing without additional error messages is if mktemp fails ...



---

*idleft@…* commented *[on Nov 14, 2012](https://xquartz.macosforge.org/trac/ticket/685#comment:6 "November 14, 2012 at 10:19 PM PST")*

Replying to [jeremyhu@…](https://xquartz.macosforge.org/trac/ticket/685#comment:5):

> The only way I can see that failing without additional error messages is if mktemp fails ...

Thank you, I run this script manually it also says the same thing. But I did not modify the 10-tmpdirs script...

As for mktemp, I can run it independently, is there any way I can test whether is its problem?

Here is some information about I run mktemp:

    xikui@privileged_startx.d:mktemp 
    /var/folders/p9/ndtp4n4n7dzc0gr969bqwq600000gn/T/tmp.onIRy7Tpnv
    xikui@privileged_startx.d:./10-tmpdirs 
    Could not successfully create /tmp/.ICE-unix
    Could not successfully create /tmp/.X11-unix
    Could not successfully create /tmp/.font-unix
    xikui@privileged_startx.d:


---

*idleft@…* commented *[on Nov 14, 2012](https://xquartz.macosforge.org/trac/ticket/685#comment:7 "November 14, 2012 at 11:13 PM PST")*

Replying to [jeremyhu@…](https://xquartz.macosforge.org/trac/ticket/685#comment:5):

> The only way I can see that failing without additional error messages is if mktemp fails ...

I checked the script, and I found these 3 directories does not exist during the execution.

The variable $check is empty.

Is this normal?



---

*jeremyhu@…* commented *[on Nov 14, 2012](https://xquartz.macosforge.org/trac/ticket/685#comment:8 "November 14, 2012 at 11:54 PM PST")*

Replying to [idleft@…](https://xquartz.macosforge.org/trac/ticket/685#comment:6):

> Replying to [jeremyhu@…](https://xquartz.macosforge.org/trac/ticket/685#comment:5):
>
> > The only way I can see that failing without additional error messages is if mktemp fails ...
>
> Thank you, I run this script manually it also says the same thing. But I did not modify the 10-tmpdirs script...

You're not running it right. It needs to be run as root. Use sudo.

> As for mktemp, I can run it independently, is there any way I can test whether is its problem?

Yes, debug the script.

Replying to [idleft@…](https://xquartz.macosforge.org/trac/ticket/685#comment:7):

> Replying to [jeremyhu@…](https://xquartz.macosforge.org/trac/ticket/685#comment:5):
>
> > The only way I can see that failing without additional error messages is if mktemp fails ...
>
> I checked the script, and I found these 3 directories does not exist during the execution.
>
> The variable $check is empty.
>
> Is this normal?

Yes, that is normal. You need to check why the mktemp -d is failing. Remove the redirect to /dev/null.



---

*idleft@…* commented *[on Nov 15, 2012](https://xquartz.macosforge.org/trac/ticket/685#comment:9 "November 15, 2012 at 12:30 AM PST")*

I think I figure out how this working...

The mktemp requires the name template contains at least 3 X, so the mktemp fails at L59. I have mktemp version 8.9.
I changed the mktemp at line 59 to mkdir, and it do solve the problem, but, as the comments implies, this solution is not that 'good'.
Is there are any other method?

p.s. I port installed the coreutil before, is this cause the problem?

    41 for dir in /tmp/.ICE-unix /tmp/.X11-unix /tmp/.font-unix ; do
     42     success=0
     43     for attempt in 1 2 3 4 5 ; do
     44         #check= `${STAT} -f '%#p %u %g' ${dir} 2> /dev/null`
     45         check= `${STAT} -f '%#p %u %g' ${dir} 2`
     46         echo "|${check}|"
     47         if [ "${check}" = "041777 0 0" ] ; then
     48             success=1
     49             break
     50         elif [ -n "${check}" ] ; then
     51             saved=$(${MKTEMP} -d ${dir}-XXXXXXXX)
     52             mv ${dir} ${saved}
     53             echo "${dir} exists but is insecure.  It has been moved into ${saved}" >&2
     54         fi
     55 
     56         # Use mktemp rather than mkdir to avoid possible security issue
     57         # if $dir exists and is a symlink (ie protect against a race
     58         # against the above check)
     59         if ${MKTEMP} -d ${dir} >& /dev/null ; then
     60             chmod 1777 $dir
     61             chown root:wheel $dir
     62             success=1
     63             break
     64         fi
     65     done
     66 
     67     if [ "${success}" -eq 0 ] ; then
     68         echo "Could not successfully create ${dir}" >&2
     69     fi
     70 done
    ~          

L47-L49 is to check if the directories are already created.
L50-L54 is to check if there are other directories that not generated by XQuartz, and rename

So if the code works properly, it should go L59-63?

I run mktemp manually, and it reports:

    xikui@privileged_startx.d:sudo mktemp -d /tmp/.ICE-unix
    mktemp: too few X's in template `/tmp/.ICE-unix'


---

*idleft@…* commented *[on Nov 15, 2012](https://xquartz.macosforge.org/trac/ticket/685#comment:10 "November 15, 2012 at 12:39 AM PST")*

I think this might be the version of my coreutils is too low. I got version 8.9 but current version is 8.20.
I compile 8.20 met the iconv lib dependency problem, so I choose the lower version. But that is another problem.
Thanks a lot for your patient help!



---

*jeremyhu@…* commented *[on Nov 15, 2012](https://xquartz.macosforge.org/trac/ticket/685#comment:11 "November 15, 2012 at 9:23 AM PST")*

What is ${MKTEMP} set to? It should be using /usr/bin/mktemp which is provided by the system. Did you replace the version of mktemp provided by the system with your own from coreutils? See this portion of the script:

    # Our usage of mktemp fails with GNU, so prefer /usr/bin to hopefully
    # get BSD mktemp
    if [ -x /usr/bin/mktemp ] ; then
        MKTEMP=/usr/bin/mktemp
    else
        MKTEMP=mktemp
    fi


---

*idleft@…* commented *[on Nov 15, 2012](https://xquartz.macosforge.org/trac/ticket/685#comment:12 "November 15, 2012 at 9:15 PM PST")*

Replying to [jeremyhu@…](https://xquartz.macosforge.org/trac/ticket/685#comment:11):

> What is ${MKTEMP} set to? It should be using /usr/bin/mktemp which is provided by the system. Did you replace the version of mktemp provided by the system with your own from coreutils? See this portion of the script:
>
>     # Our usage of mktemp fails with GNU, so prefer /usr/bin to hopefully
>     # get BSD mktemp
>     if [ -x /usr/bin/mktemp ] ; then
>         MKTEMP=/usr/bin/mktemp
>     else
>         MKTEMP=mktemp
>     fi

${MKTEMP} is set to /usr/bin/mktemp
I think this is the reason why this happens. I compile installed coreutils once, and it seems it replaced the original mktemp and other tools.
I will try to restore the osxutils.



---

*jeremyhu@…* commented *[on Nov 15, 2012](https://xquartz.macosforge.org/trac/ticket/685#comment:13 "November 15, 2012 at 11:39 PM PST")*

-   **Status** changed from *new* to *closed*
-   **Resolution** set to *invalid*

Yeah, don't clobber what's in /usr ... that's what /usr/local is for.



---

*adeslat@…* commented *[on Feb 12, 2013](https://xquartz.macosforge.org/trac/ticket/685#comment:14 "February 12, 2013 at 7:01 AM PST")*

-   **Status** changed from *closed* to *reopened*
-   **Resolution** *invalid* deleted

Dear Jeremy,

I downloaded the Xquartz and have an error where basically anytime I start up any thing that may be calling Xwindows -- I enter an infinite loop which is almost like a virus -- I cannot kill it. I did not do anything but download the dmg -- which apparently was a mistake and now I want to remove it....

Anne



---

*jeremyhu@…* commented *[on Feb 12, 2013](https://xquartz.macosforge.org/trac/ticket/685#comment:15 "February 12, 2013 at 9:53 AM PST")*

-   **Status** changed from *reopened* to *closed*
-   **Resolution** set to *invalid*

If you only downloaded the dmg, there's no way that XQuartz is at fault. I assume you mean that you installed it as well. Please join the x11-users mailing list for support. Your issue is not related to this one and is most likely a configuration issue on your system. Did you logout and log back in after installing? Did you try another user account? ... please respond on the list.



---

*ryan.blake.williams@…* commented *[on Nov 7, 2014](https://xquartz.macosforge.org/trac/ticket/685#comment:16 "November 7, 2014 at 10:54 AM PST")*

Just to help anyone else who runs into this:

I also had this issue because I symlinked `/usr/bin/mktemp` to a GNU Coreutils `gmktemp` that I installed with `brew`!

If you've done that and are seeing this XQuartz crash loop, put BSD `mktemp` back at `/usr/bin/mktemp`. Symlink `/usr/local/bin/gmktemp` to a `mktemp` somewhere higher on your `$PATH` than `/usr/bin` and you can still have `mktemp` be GNU mktemp from the command line.



---

*jeremyhu@…* commented *[on Nov 7, 2014](https://xquartz.macosforge.org/trac/ticket/685#comment:17 "November 7, 2014 at 2:44 PM PST")*

Yeah... don't mess with system files ;)



---

*ryan.blake.williams@…* commented *[on Nov 7, 2014](https://xquartz.macosforge.org/trac/ticket/685#comment:18 "November 7, 2014 at 3:14 PM PST")*

How hard would it be to change XQuartz to use `mktemp` in a way that was compatible with GNU mktemp? If it's not a super invasive change it could be worth doing anyway. Where does that code live? I'm happy to take a stab at it...



---

*jeremyhu@…* commented *[on Nov 7, 2014](https://xquartz.macosforge.org/trac/ticket/685#comment:19 "November 7, 2014 at 3:43 PM PST")*

Impossible. GNU mktemp doesn't support what we need which is why we execute /usr/bin/mktemp directly because our contract is that this version of mktemp is BSD mktemp.



---

*ryan.blake.williams@…* commented *[on Nov 9, 2014](https://xquartz.macosforge.org/trac/ticket/685#comment:20 "November 9, 2014 at 1:18 PM PST")*

For my own curiosity, can you elaborate on what it doesn't support that you need?

In my `/opt/X11/lib/X11/xinit/privileged_startx.d/10-tmpdirs`, I see two uses of `mktemp`. The first seems to have been explicitly made to be GNU-mktemp friendly as it includes &gt;=3 X's on the end of the `<TEMPLATE>` passed to `mktemp`:

`    saved=$(${MKTEMP} -d ${dir}-XXXXXXXX)`

The second exists in this block of code, which seems to have an unfinished comment and the purpose of which is less obvious to me:

                    # if $dir exists and is a symlink (ie protect against a race

                    if ${MKTEMP} -d ${dir} >& /dev/null ; then
                            chmod 1777 $dir
                            chown root:wheel $dir
                            success=1
                            break
                    fi

Does `/opt/X11/lib/X11/xinit/privileged_startx.d/10-tmpdirs` ship with XQuartz? I don't see anything like it in the repo at <git://people.freedesktop.org/~jeremyhu/xserver>.

Thanks!



---

*jeremyhu@…* commented *[on Nov 9, 2014](https://xquartz.macosforge.org/trac/ticket/685#comment:21 "November 9, 2014 at 11:32 PM PST")*

Yes, /opt/X11 is shipped with XQuartz. That git repo is just for the server and not everything else. The second usage is what is not compatible with GNU mktemp. That usage is like mkdir but safe against races.



